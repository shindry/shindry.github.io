<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,400i|Nunito:300,300i" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"> -->
    <link rel="shortcut icon" type="image/png" href="img/favicon.png">

    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>


    <title>converter &mdash; pixel converter</title>
</head>

<body>

    <!-- section header -->
    <section class="hero is-full">
        <div class="container is-fluid">
            <div class="columns">
                <div class="column has-text-centered">
                    <div class="hero-body">
                        <!-- Hero content: will be in the middle -->
                        <div class="container has-text-centered">
                            <h1 class="title is-uppercase">
                                Pixel to VW/VH Converter
                            </h1><br>
                            <h2 class="subtitle">
                                This online calculator can convert from <span class="hero__subtitle__1">px to vw</span>,
                                <span class="hero__subtitle__2">px to vh</span>, <span class="hero__subtitle__3">vh to
                                    px</span>, <span class="hero__subtitle__4">vw to
                                    px</span><br>
                                <span style="font-size:.75em">
                                    ( <strong>px</strong> : pixels, <strong> vw </strong> : variable widths,
                                    <strong>vh</strong> : variable height )
                                </span>
                                <br>
                                Make your content ready for responsive use and javascript does that for you.<br>
                                Are you front end developer or designer? <br>
                                <span class="hero__subtitle__5">Try it!</span>
                            </h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end section header -->

    <!-- section converter -->
    <section class="converter">
        <section class="container">
            <div class="box">

                <div class="columns">
                    <div class="column is-full has-text-centered">
                        <div class="converter__value1">
                            <div class="field has-addons has-addons-centered">
                                <p class="control">
                                    <span class="select">
                                        <select id="origin">
                                            <option value="px">px</option>
                                            <option value="vw">vw</option>
                                            <option value="vh">vh</option>
                                        </select>
                                    </span>
                                </p>
                                <p class="control">
                                    <input class="input has-text-weight-semibold" type="text" id="input"
                                        placeholder="?">
                                </p>
                                <button class="button is-info is-outlined has-tooltip-info" onclick="copy('input')"
                                    data-tooltip="Click to Copy" id="input-btn">
                                    <span class="icon is-small">
                                        <i class="far fa-copy"></i>
                                    </span>
                                </button>
                            </div>
                        </div>
                        <div class="converter__value2">
                            <div class="field has-addons has-addons-centered">
                                <p class="control">
                                    <span class="select is-primary">
                                        <select id="destination">
                                            <option value="vw">vw</option>
                                            <option value="vh">vh</option>
                                        </select>
                                    </span>
                                </p>
                                <p class="control">
                                    <input class="input has-text-weight-semibold" type="text" id="result"
                                        placeholder="?" disabled>
                                </p>
                                <button class="button is-primary is-outlined has-tooltip-primary"
                                    onclick="copy('result')" data-tooltip="Click to Copy" id="result-btn">
                                    <span class="icon is-small">
                                        <i class="far fa-copy"></i>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- columns -->
            </div>
            <!-- box -->
        </section>
    </section>
    <!-- end section converter -->

    <!-- footer -->
    <footer class="footer">
        <div class="container">
            <div class="columns">
                <div class="column">
                    <div class="content footer__content has-text-centered">
                        <p>
                            <strong>Converter</strong> by <a href="https://twitter.com/osinsin_olala">Shindry
                                Rihayaty</a>. Copyright
                            2020.
                        </p>
                        <a href=" https://bulma.io">
                            <img src="img/made-with-bulma.png" alt="Made with Bulma" width="128" height="29">
                        </a>
                    </div>
                </div>
                <div class="column">
                    <div class="content footer__content has-text-centered">
                        <p>Share on social media</p>
                        <div class="footer__button has-text-centered">
                            <iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true"
                                allowfullscreen="true"
                                class="twitter-share-button twitter-share-button-rendered twitter-tweet-button is-info"
                                style="position: static;visibility: visible;width: 76px;height: 28px;"
                                title="Twitter Tweet Button"
                                src="https://platform.twitter.com/widgets/tweet_button.d0f13be8321eb432fba28cfc1c3351b1.en.html#dnt=false&amp;id=twitter-widget-1&amp;lang=en&amp;related=jgthms%3ACreator%20of%20Bulma&amp;size=l&amp;text=Bulma%3A%20Free%2C%20open%20source%2C%20and%20modern%20CSS%20framework%20based%20on%20Flexbox&amp;type=share&amp;url=https%3A%2F%2Fbulma.io&amp;via=jgthms"
                                data-url="https://bulma.io"></iframe>
                            <iframe name="f25871b22b6dfd8" width="1000px" height="1000px"
                                title="fb:like Facebook Social Plugin" frameborder="0" allowtransparency="true"
                                allowfullscreen="true" scrolling="no" allow="encrypted-media"
                                src="https://www.facebook.com/plugins/share_button.php?href=http%3A%2F%2F127.0.0.1%3A5501%2Findex.html&amp;layout=button&amp;size=small&amp;width=79&amp;height=20&amp;appId&amp;container_width=0&amp;href=https%3A%2F%2Fwww.facebook.com%2Fbulmaio&amp;layout=button&amp;locale=en_US&amp;sdk=joey&amp;share=true&amp;show_faces=false&amp;size=large"
                                style="border: none;visibility: visible;width: 75px;height: 28px;"
                                class="is-primary"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </footer>
    <!-- end footer -->



    <script>
        $(document).ready(function () {
            $('#input').keypress(function (event) {
                if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
                    event.preventDefault();
                }
            });
            $(" #origin").click(function () {
                var origin = $(this).val();
                if (origin == "px") {
                    $("#destination").html("")
                    $("#destination").append(`<option value="vw">vw</option>
                            <option value="vh">vh</option>`)
                } else if (origin == "vw") {
                    $("#destination").html("")
                    $("#destination").append(`<option value="px">px&nbsp;</option>`)
                } else if (origin == "vh") {
                    $("#destination").html("")
                    $("#destination").append(`<option value="px">px&nbsp;</option>`)
                }
                calculate($("#input").val())
            });
            $("#destination").click(function () {
                calculate($("#input").val())
            });
            $("#input").keyup(function () {
                calculate($("#input").val())

            });
        });

        function copy(source) {
            /* Get the text field */
            var copyText = document.getElementById(source);

            /* temporary remove disbaled flag, copy didnt work for disabled field */
            var disabled = false;
            if (copyText.disabled) {
                copyText.disabled = false;
                disabled = true
            }

            /* Select the text field */
            copyText.select();
            copyText.setSelectionRange(0, 99999); /*For mobile devices*/

            /* Copy the text inside the text field */
            document.execCommand("copy");

            /* restore disabled flag */
            if (disabled) {
                copyText.disabled = true;
            }
            /* Alert the copied text */
            $("#" + source + "-btn").addClass("has-tooltip-active");
            $("#" + source + "-btn").attr('data-tooltip', "Copied the text: " + copyText.value);
            //setter
            setTimeout(function () {
                $("#" + source + "-btn").removeClass("has-tooltip-active");
                $("#" + source + "-btn").attr('data-tooltip', "Click to Copy "); //setter
            }, 2000);
            //alert("Copied the text: " + copyText.value);
        }

        function calculate(value) {
            var origin = $("#origin option:selected").val()
            var destination = $("#destination option:selected").val()
            var w = window,
                d = document,
                e = d.documentElement,
                g = d.getElementsByTagName('body')[0],
                x = w.innerWidth || e.clientWidth || g.clientWidth,
                y = w.innerHeight || e.clientHeight || g.clientHeight,
                result = value;

            if (origin == "vw") {
                if (destination == "px") {
                    result = (x * value) / 100;
                    $("#result").val(result)
                } else if (destination == "vh") {
                    // var result = (100 * value) / y;
                    // $("#result").val(result)
                }
                $("#result").val(result)
            }

            if (origin == "vh") {
                if (destination == "px") {
                    result = (y * value) / 100;
                    $("#result").val(result)
                } else if (destination == "vw") {
                    // var result = (100 * value) / y;
                    // $("#result").val(result)
                }
                $("#result").val(result)
            }

            if (origin == "px") {
                if (destination == "vw") {
                    result = (100 * value) / x;
                    $("#result").val(result)
                } else if (destination == "vh") {
                    result = (100 * value) / y;
                    $("#result").val(result)
                }
                $("#result").val(result)
            }
        }

        // Restricts input for the set of matched elements to the given inputFilter function.
        (function ($) {
            $.fn.inputFilter = function (inputFilter) {
                return this.on("input keydown keyup mousedown mouseup select contextmenu drop", function () {
                    if (inputFilter(this.value)) {
                        this.oldValue = this.value;
                        this.oldSelectionStart = this.selectionStart;
                        this.oldSelectionEnd = this.selectionEnd;
                    } else if (this.hasOwnProperty("oldValue")) {
                        this.value = this.oldValue;
                        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
                    } else {
                        this.value = "";
                    }
                });
            };
        }(jQuery));
    </script>
</body>

</html>